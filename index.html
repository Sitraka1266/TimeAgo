<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TimeAgo.js - Exemple et Explication</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f4f7fa;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    .card {
      background-color: #ffffff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    .editor-container {
      background-color: #ffffff;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }
    .result-box {
      background-color: #e9f7ef;
      border: 1px solid #a1d8a6;
      padding: 15px;
      margin-top: 20px;
      border-radius: 5px;
      font-weight: bold;
    }
    h1, h2, h3 {
      color: #333;
    }
    input[type="datetime-local"], input[type="text"] {
      font-size: 1rem;
      padding: 10px;
      width: 100%;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .btn-primary {
      background-color: #007bff;
      border: none;
    }
    .btn-primary:hover {
      background-color: #0056b3;
    }
    footer {
      margin-top: 30px;
      text-align: center;
    }
    code {
      background-color: #f4f4f4;
      padding: 5px;
      border-radius: 5px;
      font-size: 1rem;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1 class="text-center">TimeAgo.js - Exemple et Explication</h1>

    <div class="editor-container">
      <h2>Introduction à TimeAgo.js</h2>
      <p>TimeAgo.js est une bibliothèque JavaScript permettant de formater des dates en une "date relative", comme "il y a 5 minutes" ou "dans 2 jours".</p>
      <p>Dans cet exemple, nous allons vous montrer comment utiliser la classe <code>TimeAgo</code> pour afficher des dates de manière dynamique en utilisant JavaScript.</p>

      <h3>Voici comment la classe TimeAgo fonctionne :</h3>
      <pre><code>
        class TimeAgo {
          constructor(lang = "fr") {
            this.lang = lang;
            // Traduites pour différentes langues...
          }

          format(dateString) {
            const t = this.translations[this.lang] || this.translations["fr"];
            const now = new Date();
            const inputDate = new Date(dateString);
            if (isNaN(inputDate.getTime())) return t.invalid;

            // Calculer la différence entre les dates...
          }
        }
      </code></pre>

      <h3>Exemple interactif :</h3>
      <p>Essayez de saisir une date et voyez comment le formatage dynamique fonctionne.</p>

      <!-- Formulaire pour saisir la date -->
      <form id="dateForm">
        <label for="userDate">Entrez une date :</label>
        <input type="datetime-local" id="userDate" class="form-control" required>
        <button type="submit" class="btn btn-primary btn-block">Afficher la date relative</button>
      </form>

      <!-- Zone d'affichage du résultat -->
      <div id="result" class="result-box">Le résultat sera affiché ici...</div>

      <h3>Explication du Code :</h3>
      <p>Le code JavaScript présenté ci-dessous crée une instance de la classe <code>TimeAgo</code>, récupère une date entrée par l'utilisateur et l'affiche de manière dynamique dans le format "relatif".</p>

      <pre><code>
        // Créer une instance de TimeAgo en français
        const agoFr = new TimeAgo("fr");

        // Gérer l'envoi du formulaire
        document.getElementById('dateForm').addEventListener('submit', function(event) {
          event.preventDefault();

          // Récupérer la date saisie par l'utilisateur
          const userDate = document.getElementById('userDate').value;

          // Vérifier si la date est valide
          if (userDate) {
            // Afficher la date relative
            const result = agoFr.format(userDate);
            document.getElementById('result').innerText = `Date relative : ${result}`;
          } else {
            document.getElementById('result').innerText = "Veuillez entrer une date valide.";
          }
        });
      </code></pre>

    </div>

    <footer>
      <p>&copy; 2025 TimeAgo.js - Exemple</p>
    </footer>
  </div>

  <!-- Inclure le fichier JavaScript de TimeAgo -->
  <script src="./TimeAgo.js"></script>
  <script>

    // Créer une instance de TimeAgo en français
    const agoFr = new TimeAgo("fr");

    // Gérer l'envoi du formulaire
    document.getElementById('dateForm').addEventListener('submit', function(event) {
      event.preventDefault();

      // Récupérer la date saisie par l'utilisateur
      const userDate = document.getElementById('userDate').value;

      // Vérifier si la date est valide
      if (userDate) {
        // Afficher la date relative
        const result = agoFr.format(userDate);
        document.getElementById('result').innerText = `Date relative : ${result}`;
      } else {
        document.getElementById('result').innerText = "Veuillez entrer une date valide.";
      }
    });
  </script>

</body>
</html>
